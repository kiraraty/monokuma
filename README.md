# Battle Pets - Web3宠物对战游戏

基于区块链的宠物对战游戏，玩家可以收集、训练、对战NFT宠物，参与排行榜竞争。

## 🎮 游戏特色

- **NFT宠物系统**: 基于ERC-721的独特宠物，每个都有随机属性和稀有度
- **实时对战**: 链上回合制战斗系统，使用VRF确保公平性
- **训练升级**: 通过消耗代币提升宠物属性，解锁新技能
- **交易市场**: NFT市场支持挂单和拍卖交易
- **赛季排行榜**: 7天赛季制，前10%玩家瓜分奖池
- **代币经济**: ERC-20游戏代币，支持挖矿、交易、奖励

## 🏗️ 技术架构

### 智能合约
- `BattlePetsNFT.sol` - 宠物NFT合约
- `GameToken.sol` - 游戏代币合约
- `BattleSystem.sol` - 战斗系统合约
- `Marketplace.sol` - NFT市场合约
- `Leaderboard.sol` - 排行榜合约

### 前端技术栈
- React 18 + Vite
- TailwindCSS
- Ethers.js
- React Router
- Framer Motion

## 🚀 快速开始

### 环境要求
- Node.js 18+
- npm 或 yarn
- MetaMask钱包

### 安装依赖
```bash
npm install
```

### 配置环境变量
复制 `env.example` 为 `.env` 并填入配置：
```bash
cp env.example .env
```

### 编译合约
```bash
npm run compile
```

### 部署合约
```bash
npm run deploy
```

### 启动前端
```bash
npm run dev
```

## 📋 功能模块

### 1. 宠物系统
- 免费铸造宠物（最多5只）
- 随机属性生成（攻击、防御、速度、生命值）
- 5个稀有度等级（普通、稀有、史诗、传说、神话）
- 训练提升属性（消耗代币）
- 升级获得新技能

### 2. 战斗系统
- 匹配队列机制
- 链上回合制战斗
- 基于属性的伤害计算
- 随机数确保公平性
- 胜负奖励分配

### 3. 市场系统
- 宠物挂单销售
- 拍卖竞标
- 2%交易手续费
- 安全的重入保护

### 4. 排行榜系统
- 7天赛季制
- 积分累积机制
- 自动奖池分配
- 前10%玩家奖励

### 5. 代币经济
- 每日挖矿奖励
- 战斗奖励
- 市场交易
- 训练升级消耗

## 🎯 游戏玩法

1. **开始游戏**: 连接钱包，铸造第一个宠物
2. **收集宠物**: 最多拥有5只宠物，每只都有独特属性
3. **训练升级**: 使用代币训练宠物，提升属性值
4. **参与对战**: 进入匹配队列，与其他玩家战斗
5. **交易宠物**: 在市场上买卖宠物，参与拍卖
6. **争夺排名**: 通过战斗获得积分，争夺赛季奖励

## 🔧 开发指南

### 合约开发
```bash
# 编译合约
npm run compile

# 运行测试
npm run test

# 本地部署
npm run node
```

### 前端开发
```bash
# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览构建结果
npm run preview
```

## 📊 合约地址

部署后需要更新以下地址：
- `src/contexts/Web3Context.jsx` 中的合约地址
- 前端ABI（建议从artifacts导入）

## 🛡️ 安全特性

- 重入攻击保护
- 权限控制
- 输入验证
- 安全随机数生成
- 紧急停止功能

## 📈 经济模型

- **代币供应**: 100万枚
- **每日挖矿**: 1000枚/天
- **战斗费用**: 5枚/场
- **训练费用**: 10枚/次
- **升级费用**: 50枚/次
- **市场手续费**: 2%

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 📄 许可证

MIT License

## 🆘 支持

如有问题，请提交 Issue 或联系开发团队。

---

**注意**: 这是一个演示项目，生产环境使用前请进行充分的安全审计和测试。 